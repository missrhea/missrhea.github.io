{"componentChunkName":"component---src-templates-blog-post-js","path":"/Image-vs-Container/","result":{"data":{"site":{"siteMetadata":{"title":"Rhea Rodrigues"}},"markdownRemark":{"id":"7d5b19f5-75f2-56ee-bf49-0a96d93281a8","excerpt":"In a previous post, Building Software Better With Docker I introduced Docker, defined containers, and how it can improve the software development process. I…","html":"<style>\n\n</style>\n<p>In a previous post, <a href=\"/Building-Software-Better-With-Docker/\">Building Software Better With Docker</a> I introduced Docker, defined containers, and how it can improve the software development process. I wrote that post to provide a mental model for the concept of containers and motivate their use. Here I want to talk about the technicalities of containers.</p>\n<h1>Image vs Instance</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d54d1520695debdad64500e8743d8a75/90eea/image-vs-container.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACT0lEQVQoz31SWU8TYRSdfyUmmqChSZ988NVnY2J8MAYSLdFSwIUHkaU2thKEShWKY1u6AqUCLU03urIKJMQuQdki0+nMtIbjna9i4osPJ/d+Z745c+bew8meVfwPdV+GQe0ld4pVxZNG3ZtmfCOQI2Qhu5v3OYVIhQjFn/kHFyKH9mUcTYeZGObW0CBe8q2i6k6i6ojhYHweP2whNIIFNPxZcNJUFOLoF9TGFlEbX2pWgkJi4X4rXIYhOLuGwD95hVDfCH6648g9eovMzR5s3+jFdpsea1o91tvNOPkUAaeKSZNRZln6uAL5cxy1kRBEPobihwUc0yUVxYl5vL6rw1dbAMXbJuy0PEShVYet64+xTjXX0oFvAw5wqitVrGYLQ3jpgepY7WVHAudzBfaLbFa+LDBbgBhIY/+OCeVr3djRdOFQ24eK9hnKml5UBl0k+H4Z4pt5iORK6PeiapxlvexMQqQ5/fLn2OxA4ufUH7qizKEquKXRo6R9iiKh3NbTFGRC5Ew0ByEM+lElnNEZ/jxGHnRjlLBmcSA5PAm3wYhd2yz27luQv9SOjas6lFsN2L3SifzlDpQGnOTw3SKE4QBzWTMvNIXpXKcxfLcvMbEILSdlnELJFoREy6rOJLBhGEfm1gvs3zNjv9OKveeTOLWHwdW9GVQmgtiyuFAw8URGUKecyV7KG2XtzBmD4IzjlI/ihF+B4IqzeR7wYWyOebBp9WGbFlWZXmrGRn3p4qvHfIT1Kvc32NQrf0Ks4uKZNJNi2ZRmaNbOBERXgvG/ARR/huMwTmqOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-vs-container\"\n        title=\"image-vs-container\"\n        src=\"/static/d54d1520695debdad64500e8743d8a75/fcda8/image-vs-container.png\"\n        srcset=\"/static/d54d1520695debdad64500e8743d8a75/12f09/image-vs-container.png 148w,\n/static/d54d1520695debdad64500e8743d8a75/e4a3f/image-vs-container.png 295w,\n/static/d54d1520695debdad64500e8743d8a75/fcda8/image-vs-container.png 590w,\n/static/d54d1520695debdad64500e8743d8a75/efc66/image-vs-container.png 885w,\n/static/d54d1520695debdad64500e8743d8a75/c83ae/image-vs-container.png 1180w,\n/static/d54d1520695debdad64500e8743d8a75/90eea/image-vs-container.png 2254w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>A container is a running instance of an image. We refer to the image simply as the ‘image’ and the corresponding running instance is referred to as the ‘container’.</p>\n<table>\n<thead>\n<tr>\n<th>Image</th>\n<th>Container</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>The portable artifact</td>\n<td>The isolated OS environment</td>\n</tr>\n<tr>\n<td>The packaged application with all dependencies and configurations</td>\n<td>The running instance with the application running inside it</td>\n</tr>\n</tbody>\n</table>\n<h1>Image</h1>\n<p>Conceptually an image is a stack of other images layered on top of each other, such that an image layer depends on the image layers below it. An individual layer is an ‘image’ and the whole stack of layers together is also an ‘image’.</p>\n<p>The <strong>bottom-most image layer</strong> is called the <strong>base image</strong>. It is usually a small size Linux distribution OS like Alpine. The small size ensures the size of the overall image (possibly with additional layers added on top) remains small. </p>\n<p>The <strong>topmost image layer</strong> is the one with the actual <strong>application</strong>. The intermediate layers are images that support the actual application. The necessary dependencies or run-times that support the main application layer above are intermediate layers.</p>\n<h1>Container</h1>\n<p>A container is the <strong>running OS environment</strong> created when its corresponding image is executed. But how is this <strong>running OS environment</strong> different from what a VM provides? I explore that difference <a href=\"\">here</a>. In short, a container and a VM are both virtualization tools but they virtualize different parts of the OS. The advantages of using a container over a VM include smaller size and faster speed.</p>\n<p>To use an OOP analogy, the image is to a container what a class is to an object (i.e. the instance at runtime). With Docker we can use the following command to start a container from a image named IMAGE.</p>\n<p><code class=\"language-text\">$ docker run IMAGE</code></p>","frontmatter":{"title":"Image vs Container","rating":null,"date":"April 17, 2021","description":"How to think about images and containers."}}},"pageContext":{"slug":"/Image-vs-Container/"}}}