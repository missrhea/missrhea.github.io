{"componentChunkName":"component---src-templates-blog-post-js","path":"/Hosting-With-GitHub-Pages/","result":{"data":{"site":{"siteMetadata":{"title":"Rhea Rodrigues"}},"markdownRemark":{"id":"9e11f266-8e88-59c1-90b7-146012ce17c5","excerpt":"In the last post I mentioned, I’m building this website with Gatsby and explained why. So far I have a working version of my Gatsby site locally. In this post…","html":"<style>\nbody {\ntext-align: justify\n}\ncode{\n    color:#E9BC3E\n}\n</style>\n<p>In the last post I mentioned, I’m building this website with Gatsby and explained why. So far I have a working version of my Gatsby site locally. In this post, I’ll go through the steps to host this site using GitHub Pages.</p>\n<p><strong>1. Create a new repository named  &#x3C;your-username>.github.io</strong>\nGitHub Pages will host my website at missrhea.github.io from the missrhea.github.io (i.e. &#x3C;your-username>.github.io) repository. That means the files needed to host my website must be inside this repository. </p>\n<p><strong>2. Create a new branch called <code class=\"language-text\">gh-pages</code></strong>\nCreate a new branch and name it <code class=\"language-text\">gh-pages</code>- don’t change the name since the gh-pages package in step 4 requires this.</p>\n<p><strong>3. Set  <code class=\"language-text\">gh-pages</code> as the publishing source</strong>\nIn the Setting tab for this repository under the GitHub Pages section, set the Source as this <code class=\"language-text\">gh-pages</code> branch. So the website will be published from the <code class=\"language-text\">gh-pages</code> branch, and not from the default “master” branch. </p>\n<blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2b6e43c6b871b8331423f596fc6f6b54/10ab7/gh-pages.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 101.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACzUlEQVQ4y6VU246bMBDltW02gRADBkzAgIHcRJLd1bZbVVWlPld9qdT//5DTGTvJXqtV1YejgTE+zJmbNw0lZidczRNcBfF/wdNmjc14g36zx3hzj0RpvLsKMfEjfJiJJ5j4Ds/9D+cRvJkoECQaQVwhzmoIWWEeqRMKh7hAGC8RCAV/UWCR0HvCfuWeY+ebkkIvKhqobkDedmiHhiLt0PS1hVk1MEONbsV+g6arsB0NlvUAVfXIli0K3UMRCvL5ixSeKiO0fQXdMkEPbRq0ZDtC3nSQzQppSzBbJHTx2/eQ8h1SWpzM99PFBTaHQqaoWg2pMpKcECQSRi4RkRWpJGkScZ4SEkoB5zaiywQ/siTTUzGtZCEL7G/v0K23KBtD5B3JaEhWa9+1MdgdDNKipZ+2VipjnvcIizWmi+xULEdOkhOsx4Eu7XG8u8H91y8YdmuM1wfc3n8k3wG/fivU/Zai1zYK12IncLsQ2YVQqhSrXU8kA4ZtT1EtKdmptdpUFGlhU8EVnYUJyV3Yy4/BRBdCLvlqdySyA8x6JGk1srJxdllbW+iO8tcgSA3mmbGRnQnOuBD6lIN+e43N/g674yeq8Aj2zaOc+i5DQNY955Sv3ObsMcGLCDkn3KQiLS1Y2rnrX0jzHyr7GmyVA5FaWXlpIKnJXUv8+wxPzrMcJiVWx88k+4CO5tlNgUFOUFVn3/OT5Wlw5x3l2dggcpoWoTr4sqHoBby0kGg3/WXcVEUNngpb4bLR+PEzoPnmiYheTcPzansyF+BeLDS3SAlJEyJkRGSOUBtBueELb0g+E87ikmaW5OiSCGvquZS2R0SVFRazMH6T7ElRJmEBZa5p04yozM6OF68rXmMLAlc+OkFItuxfWnvxE7jFbIQ8hyJRtAgqu9PizH3I1kHbM0vA3+SdbW4eP47ojKvALQiPHx4fWDz7+HLJWmnxN9l/AEyIBkHb+yoVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gh-pages\"\n        title=\"gh-pages\"\n        src=\"/static/2b6e43c6b871b8331423f596fc6f6b54/fcda8/gh-pages.png\"\n        srcset=\"/static/2b6e43c6b871b8331423f596fc6f6b54/12f09/gh-pages.png 148w,\n/static/2b6e43c6b871b8331423f596fc6f6b54/e4a3f/gh-pages.png 295w,\n/static/2b6e43c6b871b8331423f596fc6f6b54/fcda8/gh-pages.png 590w,\n/static/2b6e43c6b871b8331423f596fc6f6b54/efc66/gh-pages.png 885w,\n/static/2b6e43c6b871b8331423f596fc6f6b54/c83ae/gh-pages.png 1180w,\n/static/2b6e43c6b871b8331423f596fc6f6b54/10ab7/gh-pages.png 1552w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</blockquote>\n<p>Here is the explaination for not using the <code class=\"language-text\">master</code> branch as the publishing source for the website. </p>\n<ul>\n<li>When the build for the website is created using the <code class=\"language-text\">gatsby build</code> command, Gatsby will build everything needed to deploy the static website. This build will include the static HTML pages, JSON files, transformed images, markdown files. These files are placed in the <code class=\"language-text\">./public</code> directory and it looks very messy. </li>\n<li>However, the publishing source for my GitHub Pages website must be able to read the contents in the <code class=\"language-text\">./public</code> directory. To avoid this clutter on the default <code class=\"language-text\">master</code> branch  I prefer to have these files on another branch.</li>\n</ul>\n<p><strong>4. Build and push to the remote  <code class=\"language-text\">gh-pages</code> branch</strong>\nI’m developing the code for my website locally in the <code class=\"language-text\">dev</code> branch. Right now the <code class=\"language-text\">gh-pages</code> remote branch is empty. As it is the source branch, <code class=\"language-text\">gh-pages</code> should ideally contain all the files generated by the <code class=\"language-text\">gatsby build</code> command. </p>\n<p>This can be achieved with a simple deploy script in the <code class=\"language-text\">package.json</code> file. The script to do this involves two commands.</p>\n<ul>\n<li><code class=\"language-text\">$ gatsby build</code>\n<strong>This command will create the build.</strong> When the build process is complete all the files necessary to deploy the website will be present in the <code class=\"language-text\">/public</code> directory.</li>\n<li><code class=\"language-text\">$ gh-pages -d public</code>\n<strong>This command will push the contents of the <code class=\"language-text\">./public</code> directory to the remote <code class=\"language-text\">gh-pages</code> branch.</strong> Then Github Pages will publish the contents of this branch. </li>\n</ul>\n<p>The Gatsby docs outline the steps using the gh-pages package in detail <a href=\"https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/#installing-the-gh-pages-package\">here</a>. This is why I named the source branch <code class=\"language-text\">gh-pages</code>. Because the gh-pages package requires this name.</p>\n<p>Install the gh-pages package with,</p>\n<p><code class=\"language-text\">$ npm install gh-pages --save-dev</code></p>\n<p>Now put these two commands together in a deploy script in the <code class=\"language-text\">package.json</code> file.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n &quot;scripts&quot;: {\n  \t\t&quot;deploy&quot;: &quot;gatsby build &amp;&amp; gh-pages -d public&quot;\n \t}\n}</code></pre></div>\n<p>Execute this deploy script with <code class=\"language-text\">$ npm run deploy</code>. This will build the site and push the contents of the <code class=\"language-text\">./public</code> directory to the (remote) <code class=\"language-text\">gh-pages</code> branch.</p>\n<p>Voilà: each time I want to update my website or publish a new post all I have to do is run the <code class=\"language-text\">$ npm run deploy</code> command!</p>","frontmatter":{"title":"Hosting With GitHub Pages","rating":null,"date":"February 02, 2021","description":"Host your static site for free with GitHub Pages."}}},"pageContext":{"slug":"/Hosting-With-GitHub-Pages/"}}}